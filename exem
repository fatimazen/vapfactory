<?php
// definir le titre
$titre = "inventaire";
//inclure le header
include_once "includes/header.php";
// inclure les tables
include "includes/tables.php";
// inclure function
require_once "includes/function.php";




//  on peut récupérer la liste des produits 
$sql = "SELECT * FROM `vapoteuse` ";
// // on exécute directement la stmt$stmt 
$requete = $db->query($sql);

// on recupere les données (fetch ou fetchall)

$vapoteuses = $requete->fetchAll();

// echo "<pre>";
// var_dump($vapoteuses);
// echo "</pre>";
// ajouter une vapoteuse
$sql = "INSERT INTO `vapoteuse`(
        `reference`,
        `nomArticle`,
        `description`,
        `prixAchat`,
        `prixVente`,
        `quantiter`)VALUES('1239843876','ipx80','xxxxxxxxxxxx','35','60','32')";
//    $requete = $db->query($sql);
// modifier un produit vapoteuse

$sql = "UPDATE `vapoteuse` SET `description` = 'bonjour' WHERE `id` =3";
$requete = $db->query($sql);

// supprimer des produits 
$sql = "DELETE FROM `vapoteuse` WHERE `id` >2";
$requete = $db->query($sql);


?>


</body>

</html>
<?php
// ici on est connectés a le base de donnée
require_once "includes/connet.php";
// definir des constante environnement
define("DBHOST", "localhost");
define("DBUSER", "admin");
define("DBPASS", "adminpwd");
define("DBNAME", "vapfactory");

// pour pdo il faut avoir une dsn(data source name) de connexion

$dsn = "mysql:dbname=" . DBNAME . ";host=" . DBHOST;

// on ce connecte à la base
try {
    // on crée un elemnet de pdo que l ont met dans une variable(en instancie PDO)
    $db = new PDO($dsn, DBUSER, DBPASS);

    $db->setAttribute(PDO::ATTR_DEFAULT_FETCH_MODE, PDO::FETCH_ASSOC);
    // on s' assure d ' envoyer les données UTF8
    $db->exec("SET NAMES utf8");
} catch (PDOException $e) {
    die($e->getMessage());
    var_dump($vap);
}

?>
<!-- <?php

        //inclure le header
        include "includes/header.php";
        // inclure les tables
        include "includes/tables.php";
        ?> -->

<?php
// definir le titre
$titre = "liste des produits";
$reference = ['reference'];
$nomArticle = ['nomArticle'];
$description = ['description'];
$prixAchatUnitaire = ['prixAchatUnitaire'];
$prixVente = ['prixDeVente'];
$quantiterStock = ['quantiterStock'];


?>
<h1>VAPFACTORY</h1>
<h2>INVENTAIRE</h2>
<table>
    <h2>vapoteuse</h2>
    <tr>
        <td>reference</td>
        <td>Nom de l' article</td>
        <td>Description de l article</td>
        <td>Prix d' achat unitaire</td>
        <td>prix de vente</td>
        <td>quantité de stock</td>
    </tr>
   
    <tr>
        <th><?php echo $reference; ?></th>
        <th><?php echo $nomArticle; ?></th>
        <th><?php echo $description; ?></th>
        <th><?php echo $prixAchatUnitaire; ?></th>
        <th><?php echo $prixVente; ?></th>
        <th><?php echo $quantiterStock; ?></th>
    </tr>

</table>
<button>Ajouter un article</button>
<button>Modifier un article</button>
<button>Modifier les informations</button>

<table>
    <h2>liquide</h2>

    <tr>
        <td>reference</td>
        <td>Nom de l' article</td>
        <td>Description de l article</td>
        <td>Prix d' achat unitaire</td>
        <td>prix de vente</td>
        <td>quantité de stock</td>
    </tr>
    <tr>
        <th><?php echo $reference; ?></th>
        <th><?php echo $nomArticle; ?></th>
        <th><?php echo $description; ?></th>
        <th><?php echo $prixAchatUnitaire; ?></th>
        <th><?php echo $prixVente; ?></th>
        <th><?php echo $quantiterStock; ?></th>
    </tr>
    </tr>

</table>
<button>Ajouter un article</button>
<button>Modifier un article</button>
<button>Modifier les informations</button>